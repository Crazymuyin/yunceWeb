<%- include('compoment/adminHeader', {type: 'admin.imageManage'}) %>

<body style="padding: 20px">
    <blockquote class="layui-elem-quote">图片信息管理</blockquote>
    <table class="layui-hide" id="imgInfo"></table>
    <script type="text/html" id="avatar">
        <img style="display: inline-block; width: 80%; height: 100%;" src= {{ d.avatar }}>
      </script>
    <script type="text/html" id="barDemo">
        <a class="layui-btn layui-btn-normal layui-btn-sm" lay-event="edit">已审</a>
        <a class="layui-btn layui-btn-warm layui-btn-sm" lay-event="edit">修改</a>
        <a class="layui-btn layui-btn-danger layui-btn-sm" lay-event="edit">删除</a>
    </script>
    <script>
        layui.use('table', function () {
            var table = layui.table;
            //监听表格复选框选择
            table.on('checkbox(demo)', function (obj) {
                console.log(obj)
            });
            //监听工具条
            // table.on('tool(demo)', function (obj) {
            //     var data = obj.data;
            //     if (obj.event === 'detail') {
            //         layer.msg('ID：' + data.id + ' 的查看操作');
            //     } else if (obj.event === 'del') {
            //         layer.confirm('真的删除行么', function (index) {
            //             obj.del();
            //             layer.close(index);
            //         });
            //     } else if (obj.event === 'edit') {
            //         layer.alert('编辑行：<br>' + JSON.stringify(data))
            //     }
            // });
            var table = layui.table;

            table.render({
                elem: '#imgInfo',
                url: '/data/imgInfo',
                page: true,
                cellMinWidth: 80,  //全局定义常规单元格的最小宽度，layui 2.2.1 新增
                // page: true,
                cols: [[
                    { field: 'avatar', title: '缩略图', align: 'center', width: '150', templet: '#avatar' },
                    { field: 'id', title: 'ID', align: 'center', width: '120', sort: true },
                    { field: 'title', title: '标题', width: '380' }, //width 支持：数字、百分比和不填写。你还可以通过 minWidth 参数局部定义当前单元格的最小宽度，layui 2.2.1 新增
                    { field: 'columnName', title: '栏目', align: 'center', width: '150' },
                    { field: 'updateTime', title: '更新时间', align: 'center', sort: true, width: '250' },
                    { field: 'publisher', title: '发布人', align: 'center', width: '200' },
                    { field: 'clickNum', title: '点击', align: 'center', sort: true, width: '120' },
                    { fixed: 'right', title: '操作', align: 'center', toolbar: '#barDemo', width: '301' }
                ]]
            });
        })
    </script>
<% include compoment/adminFooter %>
